-- loadstring(game:HttpGet("https://raw.githubusercontent.com/Smile-B14/Roblox/refs/heads/main/Anti-AFK"))()

local Players = game:GetService("Players")
local VirtualUser = game:GetService("VirtualUser")
local CoreGui = game:GetService("CoreGui")

-- ცვლადები
local startTime = os.time() -- ვიწყებთ დროის ათვლას
local afkCount = 0 -- რამდენჯერ აგარიდათ AFK-ს

-- 1. ძველი UI-ის გასუფთავება
for _, ui in pairs(CoreGui:GetChildren()) do
	if ui.Name == "GenesisAntiAFK_Fixed" then
		ui:Destroy()
	end
end

-- 2. ახალი GUI-ის შექმნა
local gui = Instance.new("ScreenGui")
gui.Name = "GenesisAntiAFK_Fixed"
gui.Parent = CoreGui
gui.ZIndexBehavior = Enum.ZIndexBehavior.Global -- მნიშვნელოვანია რომ წინ გამოჩნდეს

-- მთავარი ჩარჩო
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Parent = gui
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -90) -- ეკრანის ცენტრი
mainFrame.Size = UDim2.new(0, 350, 0, 180) -- ზომა: 350x180
mainFrame.Active = true
mainFrame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = mainFrame

-- სათაური (Header)
local header = Instance.new("TextLabel")
header.Parent = mainFrame
header.BackgroundColor3 = Color3.fromRGB(50, 50, 120)
header.Size = UDim2.new(1, 0, 0, 40) -- სიმაღლე 40px
header.Font = Enum.Font.GothamBold
header.Text = "  Anti-AFK (ქართული)"
header.TextColor3 = Color3.new(1, 1, 1)
header.TextSize = 18
header.TextXAlignment = Enum.TextXAlignment.Left
header.ZIndex = 2 -- ფონზე წინ

local headerCorner = Instance.new("UICorner")
headerCorner.CornerRadius = UDim.new(0, 10)
headerCorner.Parent = header

-- ჩაკეცვის ღილაკი (-)
local minButton = Instance.new("TextButton")
minButton.Parent = header
minButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
minButton.Position = UDim2.new(1, -30, 0, 5)
minButton.Size = UDim2.new(0, 25, 0, 25)
minButton.Font = Enum.Font.GothamBold
minButton.Text = "-"
minButton.TextColor3 = Color3.new(1, 1, 1)
minButton.ZIndex = 3
local minCorner = Instance.new("UICorner")
minCorner.CornerRadius = UDim.new(0, 5)
minCorner.Parent = minButton

-- === ინფორმაციის ტექსტები (ფიქსირებული პოზიციები) ===

-- სტატუსი
local statusLabel = Instance.new("TextLabel")
statusLabel.Parent = mainFrame
statusLabel.BackgroundTransparency = 1
statusLabel.Position = UDim2.new(0, 15, 0, 50) -- ჰედერიდან 10px ქვემოთ
statusLabel.Size = UDim2.new(1, -30, 0, 25)
statusLabel.Font = Enum.Font.GothamSemibold
statusLabel.Text = "სტატუსი: მომლოდინე..."
statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100) -- მწვანე
statusLabel.TextSize = 16
statusLabel.TextXAlignment = Enum.TextXAlignment.Left
statusLabel.ZIndex = 2

-- მთვლელი (Counter)
local countLabel = Instance.new("TextLabel")
countLabel.Parent = mainFrame
countLabel.BackgroundTransparency = 1
countLabel.Position = UDim2.new(0, 15, 0, 80) -- წინა ტექსტიდან 30px ქვემოთ
countLabel.Size = UDim2.new(1, -30, 0, 25)
countLabel.Font = Enum.Font.Gotham
countLabel.Text = "AFK დაცვა: 0-ჯერ"
countLabel.TextColor3 = Color3.fromRGB(255, 220, 100) -- ყვითელი
countLabel.TextSize = 16
countLabel.TextXAlignment = Enum.TextXAlignment.Left
countLabel.ZIndex = 2

-- დრო (Timer)
local timeLabel = Instance.new("TextLabel")
timeLabel.Parent = mainFrame
timeLabel.BackgroundTransparency = 1
timeLabel.Position = UDim2.new(0, 15, 0, 110) -- კიდევ ქვემოთ
timeLabel.Size = UDim2.new(1, -30, 0, 25)
timeLabel.Font = Enum.Font.Gotham
timeLabel.Text = "დრო: 00:00:00"
timeLabel.TextColor3 = Color3.fromRGB(150, 200, 255) -- ღია ლურჯი
timeLabel.TextSize = 16
timeLabel.TextXAlignment = Enum.TextXAlignment.Left
timeLabel.ZIndex = 2

-- ავტორი
local footer = Instance.new("TextLabel")
footer.Parent = mainFrame
footer.BackgroundTransparency = 1
footer.Position = UDim2.new(0, 0, 1, -25) -- სულ ქვემოთ
footer.Size = UDim2.new(1, 0, 0, 20)
footer.Font = Enum.Font.Gotham
footer.Text = "By Smile B"
footer.TextColor3 = Color3.fromRGB(100, 100, 100)
footer.TextSize = 12
footer.ZIndex = 2

-- პატარა გახსნის ღილაკი
local openButton = Instance.new("TextButton")
openButton.Name = "OpenButton"
openButton.Parent = gui
openButton.BackgroundColor3 = Color3.fromRGB(50, 50, 120)
openButton.Position = UDim2.new(0, 20, 0.85, 0)
openButton.Size = UDim2.new(0, 50, 0, 50)
openButton.Text = "AFK"
openButton.TextColor3 = Color3.new(1,1,1)
openButton.Font = Enum.Font.GothamBold
openButton.Visible = false
openButton.Draggable = true
local openCorner = Instance.new("UICorner")
openCorner.CornerRadius = UDim.new(1, 0)
openCorner.Parent = openButton

-- === ლოგიკა ===

-- ღილაკების მუშაობა
minButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
    openButton.Visible = true
end)

openButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = true
    openButton.Visible = false
end)

-- დროის ფორმატირება
local function formatTime(seconds)
    local h = math.floor(seconds / 3600)
    local m = math.floor((seconds % 3600) / 60)
    local s = seconds % 60
    return string.format("%02d:%02d:%02d", h, m, s)
end

-- AFK ფუნქცია
local function onAfk()
    afkCount = afkCount + 1
    countLabel.Text = "AFK დაცვა: " .. afkCount .. "-ჯერ"
    
    statusLabel.Text = "სტატუსი: მოქმედება!"
    statusLabel.TextColor3 = Color3.fromRGB(255, 80, 80) -- წითელი
    
    VirtualUser:CaptureController()
    VirtualUser:ClickButton2(Vector2.new())
    
    wait(2)
    statusLabel.Text = "სტატუსი: აქტიურია (მომლოდინე)"
    statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
end

Players.LocalPlayer.Idled:Connect(onAfk)

-- ტაიმერის ციკლი
spawn(function()
    while wait(1) do
        if mainFrame.Visible then -- განახლდეს მხოლოდ თუ ფანჯარა გახსნილია (ოპტიმიზაცია)
            local currentTime = os.time()
            local elapsed = currentTime - startTime
            timeLabel.Text = "დრო: " .. formatTime(elapsed)
        end
    end
end)

print("Georgian Anti-AFK Loaded")
